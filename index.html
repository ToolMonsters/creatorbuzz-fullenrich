<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Campaign Feedback Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <link rel="icon" href="favicon.png" type="image/png">
  <link rel="icon" href="favicon-32.png" sizes="32x32">
  <link rel="icon" href="favicon-16.png" sizes="16x16">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <style>
    :root { --primary:#000000; --secondary:#F8CE43; --accent:#000000; --bg:#FFDE5B; --surface:#FFFFFF; --text:#000000; }
    * { box-sizing:border-box; margin:0; padding:0; }
    body { font-family:'Roboto',sans-serif; background:var(--bg); color:var(--text); padding:1rem; }
    header { position:relative; display:flex; align-items:center; justify-content:center; background:var(--primary); color:var(--surface); padding:1rem 0; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.2);}
    header .logo { position:absolute; left:1rem; top:50%; transform:translateY(-50%); width:130px; height:auto;}
    header h1 { font-weight:700; font-size:1.75rem; }
    header p { opacity:.85; margin-top:.25rem; }
    .kpi-bar { display:flex; gap:2rem; justify-content:center; align-items:center; font-weight:500; font-size:1.1rem; margin: 1.5rem 0; }
    .kpi-bar strong { font-size:1.25em; color: var(--primary); }
    .grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(320px,1fr)); gap:1rem; margin-top:1rem; }
    .card { background:var(--surface); border-radius:8px; padding:1rem; box-shadow:0 4px 12px rgba(0,0,0,0.1); transition:transform .2s, box-shadow .2s; }
    .card:hover { transform:translateY(-4px); box-shadow:0 8px 20px rgba(0,0,0,0.15); }
    .card h3 { color:var(--secondary); margin-bottom:.75rem; font-weight:500; }
    .table-container { overflow-x:auto; margin-bottom:.75rem; }
    table { width:100%; border-collapse:collapse; font-size:.9rem; }
    th,td { text-align:left; padding:.5rem; border-bottom:1px solid #ddd; }
    th { background:var(--bg); }
    ul { list-style:inside disc; font-size:.9rem; margin-bottom:.75rem; padding-left:.5rem; }
    ul li { margin-bottom:.5rem; }
    canvas { display:block; width:100%; height:250px; }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="Company Logo" class="logo">
    <div>
      <h1>Fullenrich</h1>
      <p>Campaign Feedback Dashboard</p>
    </div>
  </header>

  <!-- KPI Bar -->
  <div class="kpi-bar">
    <span>Total comments: <strong>452</strong></span>
    <span>Total reactions: <strong>1588</strong></span>
  </div>

  <div class="grid">
    <!-- COMMENT STATS (FROM PREVIOUS FILE) -->
    <!-- Top 5 Countries -->
    <div class="card">
      <h3>Top 5 Countries (% of comments)</h3>
      <div class="table-container">
        <table>
          <thead>
            <tr><th>Rank</th><th>Country</th><th>% of Total</th></tr>
          </thead>
          <tbody>
            <tr><td>1</td><td>United States</td><td>35.8%</td></tr>
            <tr><td>2</td><td>United Kingdom</td><td>15.5%</td></tr>
            <tr><td>3</td><td>India</td><td>7.1%</td></tr>
            <tr><td>4</td><td>Canada</td><td>4.6%</td></tr>
            <tr><td>5</td><td>Sweden</td><td>3.3%</td></tr>
          </tbody>
        </table>
      </div>
      <canvas id="geoChart"></canvas>
    </div>

    <!-- Feedback Distribution -->
    <div class="card">
      <h3>Feedback Distribution</h3>
      <ul>
        <li>None – 65.9%</li>
        <li>Interest – 15.9%</li>
        <li>Criticism – 7.1%</li>
        <li>Feature – 5.1%</li>
      </ul>
      <canvas id="feedbackChart"></canvas>
    </div>

    <!-- Roles / Seniority Breakdown -->
    <div class="card">
      <h3>Roles / Seniority Breakdown</h3>
      <ul>
        <li>Individual Contributor – 54.2%</li>
        <li>C-level – 31.9%</li>
        <li>Manager – 9.3%</li>
        <li>VP/Director – 4.6%</li>
      </ul>
      <canvas id="rolesChart"></canvas>
    </div>

    <!-- Industry Engagement -->
    <div class="card">
      <h3>Industry Engagement</h3>
      <ul>
        <li><strong>Computer Software</strong> – 19.7%</li>
        <li><strong>Marketing &amp; Advertising</strong> – 8.8%</li>
        <li><strong>Management Consulting</strong> – 8.0%</li>
        <li><strong>Information Technology &amp; Services</strong> – 8.0%</li>
        <li><strong>Software Development</strong> – 6.4%</li>
      </ul>
      <canvas id="industryChart"></canvas>
    </div>

    <!-- Key Feature Requests (PRODUIT ONLY) -->
    <div class="card">
      <h3>Key Feature Requests</h3>
      <ul>
        <li>Enable advanced mapping of KPIs to user roles and pipeline stages</li>
        <li>Automate enrichment workflows to reduce manual cleanup</li>
        <li>Provide clearer reporting on data quality and enrichment effectiveness</li>
        <li>Allow easy integration with existing sales tools and CRMs</li>
        <li>Expand support for waterfall enrichment and custom data triggers</li>
      </ul>
    </div>

    <!-- Main Criticisms (PRODUIT ONLY) -->
    <div class="card">
      <h3>Main Criticisms</h3>
      <ul>
        <li>Enrichment tools often overpromise but provide low percentages of usable data</li>
        <li>Poor data quality leads to wasted time and lost opportunities</li>
        <li>Manual intervention is frequently needed due to inconsistent data verification</li>
        <li>Pipeline health suffers from lack of validated or clean data</li>
        <li>Contact information accuracy and coverage remain inconsistent across sources</li>
      </ul>
    </div>

    <!-- User Recommendations (PRODUIT ONLY) -->
    <div class="card">
      <h3>User Recommendations</h3>
      <ul>
        <li>Invest in verified, high-quality data sources to improve outreach</li>
        <li>Combine enrichment and execution workflows for seamless seller experience</li>
        <li>Focus on data integrity at the lead filtering stage</li>
        <li>Regularly audit your data pipeline for gaps and redundancies</li>
        <li>Use automation to keep enrichment processes up-to-date</li>
      </ul>
    </div>

    <!-- User Expectations (PRODUIT ONLY) -->
    <div class="card">
      <h3>User Expectations</h3>
      <ul>
        <li>Consistently high match rates and accurate data enrichment</li>
        <li>Transparent reporting on data coverage and quality</li>
        <li>Easy integration with CRMs and sales tools</li>
        <li>Automated enrichment with minimal manual intervention</li>
        <li>Clear support and documentation for onboarding and troubleshooting</li>
      </ul>
    </div>

    <!-- REACTIONS PART (NOUVEAU FICHIER) -->
    <!-- Reaction Types -->
    <div class="card">
      <h3>Reaction Types Distribution</h3>
      <ul>
        <li>LIKE – 77.7%</li>
        <li>ENTERTAINMENT – 8.8%</li>
        <li>EMPATHY – 6.3%</li>
        <li>PRAISE – 3.3%</li>
        <li>INTEREST – 2.3%</li>
      </ul>
      <canvas id="reactionTypeChart"></canvas>
    </div>

    <!-- Top 5 Countries (by reactions) -->
    <div class="card">
      <h3>Top 5 Countries (% of reactions)</h3>
      <div class="table-container">
        <table>
          <thead><tr><th>Rank</th><th>Country</th><th>% of Total</th></tr></thead>
          <tbody>
            <tr><td>1</td><td>United States</td><td>35.4%</td></tr>
            <tr><td>2</td><td>United Kingdom</td><td>12.9%</td></tr>
            <tr><td>3</td><td>India</td><td>9.8%</td></tr>
            <tr><td>4</td><td>Canada</td><td>4.7%</td></tr>
            <tr><td>5</td><td>Germany</td><td>3.5%</td></tr>
          </tbody>
        </table>
      </div>
      <canvas id="countryReactionChart"></canvas>
    </div>

    <!-- Top 5 Industries (by reactions) -->
    <div class="card">
      <h3>Top 5 Industries (% of reactions)</h3>
      <ul>
        <li>Computer Software – 20.6%</li>
        <li>Information Technology &amp; Services – 8.9%</li>
        <li>Marketing &amp; Advertising – 7.7%</li>
        <li>Technology, Information and Internet – 4.8%</li>
        <li>Software Development – 4.8%</li>
      </ul>
      <canvas id="industryReactionChart"></canvas>
    </div>

    <!-- Seniority Breakdown -->
    <div class="card">
      <h3>Roles / Seniority Breakdown (Reactions)</h3>
      <ul>
        <li>Individual Contributor – 64.4%</li>
        <li>C-level – 16.3%</li>
        <li>Manager – 14.2%</li>
        <li>VP/Director – 5.1%</li>
      </ul>
      <canvas id="seniorityReactionChart"></canvas>
    </div>
  </div>

  <script>
    const style = getComputedStyle(document.documentElement);
    const palette = {
      primary:   style.getPropertyValue('--primary').trim(),
      secondary: style.getPropertyValue('--secondary').trim(),
      accent:    style.getPropertyValue('--accent').trim()
    };

    function makeGradient(ctx, color) {
      const grad = ctx.createLinearGradient(0, 0, 0, ctx.canvas.height);
      grad.addColorStop(0, color + 'CC');
      grad.addColorStop(0.7, color + '88');
      grad.addColorStop(1, color + '33');
      return grad;
    }

    const commonOptions = {
      plugins: {
        datalabels: {
          color: palette.accent,
          anchor: 'end',
          align: 'top',
          font: { weight: 'bold', size: 12 },
          formatter: v => v + '%'
        },
        legend: { display: false },
        tooltip: {
          backgroundColor: palette.primary,
          titleColor: '#FFF',
          bodyColor: '#FFF',
          cornerRadius: 4,
          padding: 8
        }
      },
      animation: { duration: 1000, easing: 'easeOutQuart' },
      scales: {
        x: { ticks: { color: palette.accent }, grid: { display: false } },
        y: {
          beginAtZero: true,
          ticks: { color: palette.accent, callback: v => v + '%' },
          grid: { color: 'rgba(0,0,0,0.05)' }
        }
      }
    };

    function createBar(id, labels, data, color) {
      const ctx = document.getElementById(id).getContext('2d');
      new Chart(ctx, {
        type: 'bar',
        plugins: [ChartDataLabels],
        data: { labels, datasets: [{ data, backgroundColor: makeGradient(ctx, color), borderColor: color, borderWidth: 2, borderRadius: 6 }] },
        options: commonOptions
      });
    }

    function createDoughnut(id, labels, data, colors) {
      const ctx = document.getElementById(id).getContext('2d');
      new Chart(ctx, {
        type: 'doughnut',
        plugins: [ChartDataLabels],
        data: { labels, datasets: [{ data, backgroundColor: colors, hoverOffset: 8 }] },
        options: {
          ...commonOptions,
          cutout: '60%',
          plugins: {
            ...commonOptions.plugins,
            legend: { display: true, position: 'bottom', labels: { color: palette.accent } }
          }
        }
      });
    }

    // COMMENTS STATS (as before)
    const geoLabels = ["United States", "United Kingdom", "India", "Canada", "Sweden"];
    const geoValues = [35.8, 15.5, 7.1, 4.6, 3.3];
    const fbLabels  = ["None", "Interest", "Criticism", "Feature"];
    const fbValues  = [65.9, 15.9, 7.1, 5.1];
    const roleLabels= ["IC", "C-level", "Manager", "VP/Director"];
    const roleValues= [54.2, 31.9, 9.3, 4.6];
    const industryLabels = [
      "Computer Software",
      "Marketing & Advertising",
      "Management Consulting",
      "Information Technology & Services",
      "Software Development"
    ];
    const industryValues = [19.7, 8.8, 8.0, 8.0, 6.4];

    // REACTIONS STATS (from your last file)
    const reactionTypeLabels = ["LIKE", "ENTERTAINMENT", "EMPATHY", "PRAISE", "INTEREST"];
    const reactionTypeValues = [77.7, 8.8, 6.3, 3.3, 2.3];

    const countryReactionLabels = ["United States", "United Kingdom", "India", "Canada", "Germany"];
    const countryReactionValues = [35.4, 12.9, 9.8, 4.7, 3.5];

    const industryReactionLabels = [
      "Computer Software",
      "Information Technology & Services",
      "Marketing & Advertising",
      "Technology, Information and Internet",
      "Software Development"
    ];
    const industryReactionValues = [20.6, 8.9, 7.7, 4.8, 4.8];

    const seniorityReactionLabels = ["IC", "C-level", "Manager", "VP/Director"];
    const seniorityReactionValues = [64.4, 16.3, 14.2, 5.1];

    window.addEventListener('DOMContentLoaded', () => {
      // Comments part
      createBar('geoChart', geoLabels, geoValues, palette.primary);
      createDoughnut('feedbackChart', fbLabels, fbValues, [palette.primary,palette.secondary,palette.accent,'#888']);
      createBar('rolesChart', roleLabels, roleValues, palette.accent);
      createBar('industryChart', industryLabels, industryValues, palette.primary);

      // Reactions part
      createDoughnut('reactionTypeChart', reactionTypeLabels, reactionTypeValues, [
        palette.primary, palette.secondary, palette.accent, "#888", "#D1B3FF"
      ]);
      createBar('countryReactionChart', countryReactionLabels, countryReactionValues, palette.primary);
      createBar('industryReactionChart', industryReactionLabels, industryReactionValues, palette.accent);
      createBar('seniorityReactionChart', seniorityReactionLabels, seniorityReactionValues, palette.primary);
    });
  </script>
</body>
</html>
